{"ast":null,"code":"import { CHANGE_E_PASSWORD_FAIL, CHANGE_E_PASSWORD_REQUEST, CHANGE_E_PASSWORD_SUCCESS, EMPLOYER_PROFILE_FAIL, EMPLOYER_PROFILE_REQUEST, EMPLOYER_PROFILE_SUCCESS, FIND_TALENDS_FAIL, FIND_TALENDS_REQUEST, FIND_TALENDS_SUCCESS } from \"../contants/employerContants\";\nimport axios from \"axios\";\nexport const getEmployerProfile = () => async dispatch => {\n  try {\n    dispatch({\n      type: EMPLOYER_PROFILE_REQUEST\n    });\n    const id = JSON.parse(localStorage.getItem(\"userInfo\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${id.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.get(`/api/employer/profile/${id._id}`, config);\n    console.log(data);\n    dispatch({\n      type: EMPLOYER_PROFILE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: EMPLOYER_PROFILE_FAIL,\n      error: error\n    });\n  }\n};\nexport const editEmployerProfile = (name, oldPass, newPass, image) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CHANGE_E_PASSWORD_REQUEST\n    });\n    const id = JSON.parse(localStorage.getItem(\"userInfo\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${id.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.patch(`/api/employer/profile/${id._id}`, {\n      name,\n      oldPass,\n      newPass,\n      image\n    }, config);\n\n    if (name) {\n      getState().employerData.userInfo.owner.name = name;\n    }\n\n    if (image) {\n      getState().employerData.userInfo.image = image;\n    }\n\n    if ((data === null || data === void 0 ? void 0 : data.message) == \"incorrect old passowrd\") {\n      dispatch({\n        type: CHANGE_E_PASSWORD_FAIL,\n        error: \"Incorrect Password\"\n      });\n    } else {\n      dispatch({\n        type: CHANGE_E_PASSWORD_SUCCESS\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const findTalents = function () {\n  let keyword = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let earnings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  let language = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  let jobsDone = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: FIND_TALENDS_REQUEST\n      });\n      const id = JSON.parse(localStorage.getItem(\"userInfo\"));\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${id.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(`http://localhost:3001/api/employer/allEmployees?keyword=${keyword}&earnings=${earnings}&language=${language}&jobsDone=${jobsDone}`, config);\n      dispatch({\n        type: FIND_TALENDS_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: FIND_TALENDS_FAIL\n      });\n      console.log(error);\n    }\n  };\n};\nexport const saveTalents = id => async (dispatch, getState) => {\n  try {\n    const token_id = JSON.parse(localStorage.getItem(\"userInfo\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${tokenid.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.get(`http://localhost:3001/api/employer/`, {\n      id\n    }, config);\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["CHANGE_E_PASSWORD_FAIL","CHANGE_E_PASSWORD_REQUEST","CHANGE_E_PASSWORD_SUCCESS","EMPLOYER_PROFILE_FAIL","EMPLOYER_PROFILE_REQUEST","EMPLOYER_PROFILE_SUCCESS","FIND_TALENDS_FAIL","FIND_TALENDS_REQUEST","FIND_TALENDS_SUCCESS","axios","getEmployerProfile","dispatch","type","id","JSON","parse","localStorage","getItem","config","headers","Authorization","token","data","get","_id","console","log","payload","error","editEmployerProfile","name","oldPass","newPass","image","getState","patch","employerData","userInfo","owner","message","findTalents","keyword","earnings","language","jobsDone","saveTalents","token_id","tokenid"],"sources":["C:/webDevelepments/mernApp/MasterProject1/getwork.com/frontend/src/actions/EmployerActions.js"],"sourcesContent":["import {\r\n  CHANGE_E_PASSWORD_FAIL,\r\n  CHANGE_E_PASSWORD_REQUEST,\r\n  CHANGE_E_PASSWORD_SUCCESS,\r\n  EMPLOYER_PROFILE_FAIL,\r\n  EMPLOYER_PROFILE_REQUEST,\r\n  EMPLOYER_PROFILE_SUCCESS,\r\n  FIND_TALENDS_FAIL,\r\n  FIND_TALENDS_REQUEST,\r\n  FIND_TALENDS_SUCCESS,\r\n} from \"../contants/employerContants\";\r\nimport axios from \"axios\";\r\n\r\nexport const getEmployerProfile = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: EMPLOYER_PROFILE_REQUEST,\r\n    });\r\n\r\n    const id = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${id.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/employer/profile/${id._id}`, config);\r\n\r\n    console.log(data);\r\n\r\n    dispatch({\r\n      type: EMPLOYER_PROFILE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: EMPLOYER_PROFILE_FAIL,\r\n      error: error,\r\n    });\r\n  }\r\n};\r\n\r\nexport const editEmployerProfile =\r\n  (name, oldPass, newPass, image) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: CHANGE_E_PASSWORD_REQUEST,\r\n      });\r\n\r\n      const id = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${id.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.patch(\r\n        `/api/employer/profile/${id._id}`,\r\n        { name, oldPass, newPass, image },\r\n        config\r\n      );\r\n\r\n      if (name) {\r\n        getState().employerData.userInfo.owner.name = name;\r\n      }\r\n\r\n      if (image) {\r\n        getState().employerData.userInfo.image = image;\r\n      }\r\n\r\n      if (data?.message == \"incorrect old passowrd\") {\r\n        dispatch({\r\n          type: CHANGE_E_PASSWORD_FAIL,\r\n          error: \"Incorrect Password\",\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: CHANGE_E_PASSWORD_SUCCESS,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\nexport const findTalents =\r\n  (keyword = \"\", earnings = \"\", language = \"\", jobsDone = \"\") =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: FIND_TALENDS_REQUEST,\r\n      });\r\n\r\n      const id = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${id.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.get(\r\n        `http://localhost:3001/api/employer/allEmployees?keyword=${keyword}&earnings=${earnings}&language=${language}&jobsDone=${jobsDone}`,\r\n        config\r\n      );\r\n\r\n      dispatch({\r\n        type: FIND_TALENDS_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: FIND_TALENDS_FAIL,\r\n      });\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\nexport const saveTalents = (id) => async (dispatch, getState) => {\r\n  try {\r\n    const token_id = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${tokenid.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(\r\n      `http://localhost:3001/api/employer/`,\r\n      {\r\n        id,\r\n      },\r\n      config\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
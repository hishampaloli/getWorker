{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./PropodalPage.scss\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Alert from \"@mui/material/Alert\";\nimport { postProposal } from \"../../../actions/proposalActions\";\nimport { POST_PROPOSAL_REQUEST } from \"../../../contants/proposalConstants\";\n\nconst ProposalPage = () => {\n  _s();\n\n  var _userProfile$userData;\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const jobsInfo = useSelector(state => {\n    var _state$jobsDetail;\n\n    return (_state$jobsDetail = state.jobsDetail) === null || _state$jobsDetail === void 0 ? void 0 : _state$jobsDetail.jobDetails;\n  });\n  const user = useSelector(state => state.user);\n  const postProposalStatus = useSelector(state => state.postProposalStatus);\n  const userProfile = useSelector(state => state.employeeData);\n  console.log((_userProfile$userData = userProfile.userData) === null || _userProfile$userData === void 0 ? void 0 : _userProfile$userData.connects);\n  const {\n    id\n  } = useParams();\n  const [cover, setCover] = useState(\"\");\n  const [bid, setBid] = useState(\"\");\n  const [days, setDays] = useState(\"\");\n  const [alert, setAler] = useState(false);\n  const [msg, setMsg] = useState(false);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (bid > (jobsInfo === null || jobsInfo === void 0 ? void 0 : jobsInfo.budget) || bid < 20 || days <= 0) {} else {\n      var _userProfile$userData2;\n\n      if (((_userProfile$userData2 = userProfile.userData) === null || _userProfile$userData2 === void 0 ? void 0 : _userProfile$userData2.connects) >= 5) {\n        dispatch(postProposal(id, 5, cover, bid, days));\n        setAler(true);\n        setTimeout(() => {\n          setAler(false);\n          navigate(`/user/proposals`);\n        }, 1000);\n      } else {\n        setMsg(true);\n      }\n    }\n  };\n\n  return c;\n};\n\n_s(ProposalPage, \"edDOCOnpjjmtZxPZFfVStDqb1Bs=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector, useSelector, useSelector, useParams];\n});\n\n_c = ProposalPage;\nexport default ProposalPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProposalPage\");","map":{"version":3,"names":["React","useState","Form","InputGroup","useDispatch","useSelector","Link","useNavigate","useParams","Alert","postProposal","POST_PROPOSAL_REQUEST","ProposalPage","dispatch","navigate","jobsInfo","state","jobsDetail","jobDetails","user","postProposalStatus","userProfile","employeeData","console","log","userData","connects","id","cover","setCover","bid","setBid","days","setDays","alert","setAler","msg","setMsg","handleSubmit","e","preventDefault","budget","setTimeout","c"],"sources":["C:/webDevelepments/mernApp/MasterProject1/getwork.com/frontend/src/Pages/EmployeePage/ProposalPage/ProposalPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./PropodalPage.scss\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport { postProposal } from \"../../../actions/proposalActions\";\r\nimport { POST_PROPOSAL_REQUEST } from \"../../../contants/proposalConstants\";\r\n\r\nconst ProposalPage = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const jobsInfo = useSelector((state) => state.jobsDetail?.jobDetails);\r\n  const user = useSelector((state) => state.user);\r\n  const postProposalStatus = useSelector((state) => state.postProposalStatus);\r\n\r\n  const userProfile = useSelector((state) => state.employeeData);\r\n\r\n  console.log(userProfile.userData?.connects);\r\n\r\n  const { id } = useParams();\r\n  const [cover, setCover] = useState(\"\");\r\n  const [bid, setBid] = useState(\"\");\r\n  const [days, setDays] = useState(\"\");\r\n  const [alert, setAler] = useState(false);\r\n  const [msg, setMsg] = useState(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (bid > jobsInfo?.budget || bid < 20 || days <= 0) {\r\n    } else {\r\n      if (userProfile.userData?.connects >= 5) {\r\n        dispatch(postProposal(id, 5, cover, bid, days));\r\n        setAler(true);\r\n\r\n        setTimeout(() => {\r\n          setAler(false);\r\n          navigate(`/user/proposals`);\r\n        }, 1000);\r\n      } else {\r\n        setMsg(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    c\r\n  );\r\n};\r\n\r\nexport default ProposalPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,qBAAP;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,IAAT,EAAeC,WAAf,EAA4BC,SAA5B,QAA6C,kBAA7C;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,qBAAT,QAAsC,qCAAtC;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EAAA;;EACzB,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAMU,QAAQ,GAAGP,WAAW,EAA5B;EAEA,MAAMQ,QAAQ,GAAGV,WAAW,CAAEW,KAAD;IAAA;;IAAA,4BAAWA,KAAK,CAACC,UAAjB,sDAAW,kBAAkBC,UAA7B;EAAA,CAAD,CAA5B;EACA,MAAMC,IAAI,GAAGd,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACG,IAAlB,CAAxB;EACA,MAAMC,kBAAkB,GAAGf,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACI,kBAAlB,CAAtC;EAEA,MAAMC,WAAW,GAAGhB,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACM,YAAlB,CAA/B;EAEAC,OAAO,CAACC,GAAR,0BAAYH,WAAW,CAACI,QAAxB,0DAAY,sBAAsBC,QAAlC;EAEA,MAAM;IAAEC;EAAF,IAASnB,SAAS,EAAxB;EACA,MAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoB5B,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAAC6B,GAAD,EAAMC,MAAN,IAAgB9B,QAAQ,CAAC,EAAD,CAA9B;EACA,MAAM,CAAC+B,IAAD,EAAOC,OAAP,IAAkBhC,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACiC,KAAD,EAAQC,OAAR,IAAmBlC,QAAQ,CAAC,KAAD,CAAjC;EACA,MAAM,CAACmC,GAAD,EAAMC,MAAN,IAAgBpC,QAAQ,CAAC,KAAD,CAA9B;;EAEA,MAAMqC,YAAY,GAAIC,CAAD,IAAO;IAC1BA,CAAC,CAACC,cAAF;;IACA,IAAIV,GAAG,IAAGf,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAE0B,MAAb,CAAH,IAA0BX,GAAG,GAAG,EAAhC,IAAsCE,IAAI,IAAI,CAAlD,EAAqD,CACpD,CADD,MACO;MAAA;;MACL,IAAI,2BAAAX,WAAW,CAACI,QAAZ,kFAAsBC,QAAtB,KAAkC,CAAtC,EAAyC;QACvCb,QAAQ,CAACH,YAAY,CAACiB,EAAD,EAAK,CAAL,EAAQC,KAAR,EAAeE,GAAf,EAAoBE,IAApB,CAAb,CAAR;QACAG,OAAO,CAAC,IAAD,CAAP;QAEAO,UAAU,CAAC,MAAM;UACfP,OAAO,CAAC,KAAD,CAAP;UACArB,QAAQ,CAAE,iBAAF,CAAR;QACD,CAHS,EAGP,IAHO,CAAV;MAID,CARD,MAQO;QACLuB,MAAM,CAAC,IAAD,CAAN;MACD;IACF;EACF,CAhBD;;EAkBA,OACEM,CADF;AAGD,CAxCD;;GAAM/B,Y;UACaR,W,EACAG,W,EAEAF,W,EACJA,W,EACcA,W,EAEPA,W,EAILG,S;;;KAZXI,Y;AA0CN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}
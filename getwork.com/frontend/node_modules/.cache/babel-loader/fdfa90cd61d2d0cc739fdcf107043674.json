{"ast":null,"code":"import { axiosProposalInstance } from \"../contants/axios\";\nimport { POST_PROPOSAL_FAIL, POST_PROPOSAL_REQUEST, POST_PROPOSAL_SUCCUSS } from \"../contants/proposalConstants\";\nexport const postProposal = (id, credit, cover, bid, deadline) => async dispatch => {\n  console.log(id);\n\n  try {\n    dispatch({\n      type: POST_PROPOSAL_REQUEST\n    });\n    const tokenId = JSON.parse(localStorage.getItem(\"userInfo\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${tokenId.token}`\n      }\n    };\n    const {\n      data\n    } = await axiosProposalInstance.post(`/proposal/${tokenId._id}/${id}`, {\n      credit,\n      cover,\n      bid,\n      deadline\n    }, config);\n    console.log(data);\n    dispatch({\n      type: POST_PROPOSAL_SUCCUSS\n    });\n  } catch (error) {\n    dispatch({\n      type: POST_PROPOSAL_FAIL,\n      error: error\n    });\n  }\n};\nexport const myProposals = () => async dispatch => {\n  try {\n    // dispatch({\n    //   type: POST_PROPOSAL_REQUEST,\n    // });\n    const tokenId = JSON.parse(localStorage.getItem(\"userInfo\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${tokenId.token}`\n      }\n    };\n    const {\n      data\n    } = await axiosProposalInstance.get(`/myProposals/${tokenId._id}`, config);\n    console.log(data); //   dispatch({\n    //     type: POST_PROPOSAL_SUCCUSS,\n    //   });\n  } catch (error) {//   dispatch({\n    //     type: POST_PROPOSAL_FAIL,\n    //     error: error,\n    //   });\n  }\n};","map":{"version":3,"names":["axiosProposalInstance","POST_PROPOSAL_FAIL","POST_PROPOSAL_REQUEST","POST_PROPOSAL_SUCCUSS","postProposal","id","credit","cover","bid","deadline","dispatch","console","log","type","tokenId","JSON","parse","localStorage","getItem","config","headers","Authorization","token","data","post","_id","error","myProposals","get"],"sources":["C:/webDevelepments/mernApp/MasterProject1/getwork.com/frontend/src/actions/proposalActions.js"],"sourcesContent":["import { axiosProposalInstance } from \"../contants/axios\";\r\n\r\nimport {\r\n  POST_PROPOSAL_FAIL,\r\n  POST_PROPOSAL_REQUEST,\r\n  POST_PROPOSAL_SUCCUSS,\r\n} from \"../contants/proposalConstants\";\r\n\r\nexport const postProposal =\r\n  (id, credit, cover, bid, deadline) => async (dispatch) => {\r\n    console.log(id);\r\n    try {\r\n      dispatch({\r\n        type: POST_PROPOSAL_REQUEST,\r\n      });\r\n\r\n      const tokenId = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${tokenId.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axiosProposalInstance.post(\r\n        `/proposal/${tokenId._id}/${id}`,\r\n        { credit, cover, bid, deadline },\r\n        config\r\n      );\r\n\r\n      console.log(data);\r\n\r\n      dispatch({\r\n        type: POST_PROPOSAL_SUCCUSS,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: POST_PROPOSAL_FAIL,\r\n        error: error,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const myProposals = () => async (dispatch) => {\r\n  try {\r\n    // dispatch({\r\n    //   type: POST_PROPOSAL_REQUEST,\r\n    // });\r\n\r\n    const tokenId = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${tokenId.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axiosProposalInstance.get(\r\n      `/myProposals/${tokenId._id}`,\r\n      config\r\n    );\r\n\r\n    console.log(data);\r\n\r\n    //   dispatch({\r\n    //     type: POST_PROPOSAL_SUCCUSS,\r\n    //   });\r\n  } catch (error) {\r\n    //   dispatch({\r\n    //     type: POST_PROPOSAL_FAIL,\r\n    //     error: error,\r\n    //   });\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,mBAAtC;AAEA,SACEC,kBADF,EAEEC,qBAFF,EAGEC,qBAHF,QAIO,+BAJP;AAMA,OAAO,MAAMC,YAAY,GACvB,CAACC,EAAD,EAAKC,MAAL,EAAaC,KAAb,EAAoBC,GAApB,EAAyBC,QAAzB,KAAsC,MAAOC,QAAP,IAAoB;EACxDC,OAAO,CAACC,GAAR,CAAYP,EAAZ;;EACA,IAAI;IACFK,QAAQ,CAAC;MACPG,IAAI,EAAEX;IADC,CAAD,CAAR;IAIA,MAAMY,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAhB;IAEA,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASP,OAAO,CAACQ,KAAM;MAFhC;IADI,CAAf;IAOA,MAAM;MAAEC;IAAF,IAAW,MAAMvB,qBAAqB,CAACwB,IAAtB,CACpB,aAAYV,OAAO,CAACW,GAAI,IAAGpB,EAAG,EADV,EAErB;MAAEC,MAAF;MAAUC,KAAV;MAAiBC,GAAjB;MAAsBC;IAAtB,CAFqB,EAGrBU,MAHqB,CAAvB;IAMAR,OAAO,CAACC,GAAR,CAAYW,IAAZ;IAEAb,QAAQ,CAAC;MACPG,IAAI,EAAEV;IADC,CAAD,CAAR;EAGD,CAzBD,CAyBE,OAAOuB,KAAP,EAAc;IACdhB,QAAQ,CAAC;MACPG,IAAI,EAAEZ,kBADC;MAEPyB,KAAK,EAAEA;IAFA,CAAD,CAAR;EAID;AACF,CAlCI;AAoCP,OAAO,MAAMC,WAAW,GAAG,MAAM,MAAOjB,QAAP,IAAoB;EACnD,IAAI;IACF;IACA;IACA;IAEA,MAAMI,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAhB;IAEA,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASP,OAAO,CAACQ,KAAM;MAFhC;IADI,CAAf;IAOA,MAAM;MAAEC;IAAF,IAAW,MAAMvB,qBAAqB,CAAC4B,GAAtB,CACpB,gBAAed,OAAO,CAACW,GAAI,EADP,EAErBN,MAFqB,CAAvB;IAKAR,OAAO,CAACC,GAAR,CAAYW,IAAZ,EAnBE,CAqBF;IACA;IACA;EACD,CAxBD,CAwBE,OAAOG,KAAP,EAAc,CACd;IACA;IACA;IACA;EACD;AACF,CA/BM"},"metadata":{},"sourceType":"module"}
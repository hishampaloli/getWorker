{"ast":null,"code":"var _jsxFileName = \"C:\\\\webDevelepments\\\\mernApp\\\\MasterProject1\\\\getwork.com\\\\frontend\\\\src\\\\components\\\\ChatWindow\\\\ChatWindow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { io } from \"socket.io-client\";\nimport TextField from \"@mui/material/TextField\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatWindow = _ref => {\n  _s();\n\n  let {\n    socket\n  } = _ref;\n  const [message, setMessage] = useState(\"\");\n  const [chat, setchat] = useState([]);\n  const [typing, setTyping] = useState(false);\n  const [typingTimeout, setTypingTimeout] = useState(null);\n  const {\n    roomId\n  } = useParams();\n  useEffect(() => {\n    if (!socket) return;\n    socket.on(\"message-from-server\", data => {\n      setchat(prev => [...prev, {\n        messages: data.message,\n        received: true\n      }]);\n    });\n    socket.on(\"typing-started-from-server\", () => {\n      setTyping(true);\n    });\n    socket.on(\"typing-stoped-from-server\", () => {\n      setTyping(false);\n    });\n  }, [socket]);\n\n  const handleFrom = e => {\n    e.preventDefault();\n    socket.emit(\"send-message\", {\n      message,\n      roomId\n    });\n    setchat(prev => [...prev, {\n      messages: message,\n      received: false\n    }]);\n    setMessage(\"\");\n  };\n\n  const handleInput = e => {\n    setMessage(e.target.value);\n    socket.emit(\"typing-started\", {\n      roomId\n    });\n\n    if (typingTimeout) {\n      clearTimeout(typingTimeout);\n    }\n\n    setTypingTimeout(setTimeout(() => {\n      socket.emit(\"typing-stoped\", {\n        roomId\n      });\n    }, 500));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [roomId && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"ROOM : \", roomId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [chat.map(el => {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: el.received ? {\n            textAlign: \"left\"\n          } : {\n            textAlign: \"right\"\n          },\n          children: el.messages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [typing && /*#__PURE__*/_jsxDEV(\"a\", {\n          children: \"Typing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleFrom,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-basic\",\n            label: \"Standard\",\n            variant: \"standard\",\n            value: message,\n            onChange: handleInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            type: \"submit\",\n            children: \"sent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatWindow, \"l3s+KpxvzLULc5Iv4a7CZvFoyZI=\", false, function () {\n  return [useParams];\n});\n\n_c = ChatWindow;\nexport default ChatWindow;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useEffect","useState","Button","io","TextField","useParams","ChatWindow","socket","message","setMessage","chat","setchat","typing","setTyping","typingTimeout","setTypingTimeout","roomId","on","data","prev","messages","received","handleFrom","e","preventDefault","emit","handleInput","target","value","clearTimeout","setTimeout","display","flexDirection","map","el","textAlign"],"sources":["C:/webDevelepments/mernApp/MasterProject1/getwork.com/frontend/src/components/ChatWindow/ChatWindow.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { io } from \"socket.io-client\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst ChatWindow = ({ socket }) => {\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n  const [chat, setchat] = useState([]);\r\n  const [typing, setTyping] = useState(false);\r\n  const [typingTimeout, setTypingTimeout] = useState(null);\r\n  const {roomId} = useParams();\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    socket.on(\"message-from-server\", (data) => {\r\n      setchat((prev) => [...prev, { messages: data.message, received: true }]);\r\n    });\r\n\r\n    socket.on(\"typing-started-from-server\", () => {\r\n      setTyping(true);\r\n    });\r\n\r\n    socket.on(\"typing-stoped-from-server\", () => {\r\n      setTyping(false);\r\n    });\r\n  }, [socket]);\r\n\r\n  const handleFrom = (e) => {\r\n    e.preventDefault();\r\n    socket.emit(\"send-message\", { message, roomId });\r\n    setchat((prev) => [...prev, { messages: message, received: false }]);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    setMessage(e.target.value);\r\n    socket.emit(\"typing-started\", {roomId});\r\n\r\n    if (typingTimeout) {\r\n      clearTimeout(typingTimeout);\r\n    }\r\n    setTypingTimeout(\r\n      setTimeout(() => {\r\n        socket.emit(\"typing-stoped\", {roomId});\r\n      }, 500)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    {roomId && <h2>ROOM : {roomId}</h2> }\r\n      <div\r\n        className=\"chat-box\"\r\n        style={{ display: \"flex\", flexDirection: \"column\" }}\r\n      >\r\n        {chat.map((el) => {\r\n          return (\r\n            <p\r\n              style={\r\n                el.received ? { textAlign: \"left\" } : { textAlign: \"right\" }\r\n              }\r\n            >\r\n              {el.messages}\r\n            </p>\r\n          );\r\n        })}\r\n\r\n        <div>\r\n          {typing && <a>Typing...</a>}\r\n          <form onSubmit={handleFrom}>\r\n            <TextField\r\n              id=\"standard-basic\"\r\n              label=\"Standard\"\r\n              variant=\"standard\"\r\n              value={message}\r\n              onChange={handleInput}\r\n            />\r\n\r\n            <Button variant=\"contained\" type=\"submit\">\r\n              sent\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
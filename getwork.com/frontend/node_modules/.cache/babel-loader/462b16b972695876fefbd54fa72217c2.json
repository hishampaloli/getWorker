{"ast":null,"code":"import { axiosPaymentInstance } from \"../contants/axios\";\nexport const checkout = amount => async dispatch => {\n  try {\n    const tokenId = JSON.parse(localStorage.getItem(\"userInfo\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${tokenId.token}`\n      }\n    };\n    const {\n      data: {\n        key\n      }\n    } = await axios.get(\"http://localhost:3001/api/getkey\");\n    const {\n      data\n    } = await axiosPaymentInstance.post(`/checkout`, {\n      amount\n    }, config);\n    console.log(data); // dispatch({\n    //   type: MYJOBS_SUCCES,\n    //   payload: data,\n    // });\n  } catch (error) {// dispatch({\n    //   type: MYJOBS_FAIL,\n    //   error: error,\n    // });\n  }\n};","map":{"version":3,"names":["axiosPaymentInstance","checkout","amount","dispatch","tokenId","JSON","parse","localStorage","getItem","config","headers","Authorization","token","data","key","axios","get","post","console","log","error"],"sources":["C:/webDevelepments/mernApp/MasterProject1/getwork.com/frontend/src/actions/paymentActions.js"],"sourcesContent":["import { axiosPaymentInstance } from \"../contants/axios\";\r\n\r\nexport const checkout = (amount) => async (dispatch) => {\r\n  try {\r\n    const tokenId = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${tokenId.token}`,\r\n      },\r\n    };\r\n\r\n    const {\r\n        data: { key },\r\n      } = await axios.get(\"http://localhost:3001/api/getkey\");\r\n  \r\n\r\n    const { data } = await axiosPaymentInstance.post(\r\n      `/checkout`,\r\n      { amount },\r\n      config\r\n    );\r\n\r\n    console.log(data);\r\n\r\n    // dispatch({\r\n    //   type: MYJOBS_SUCCES,\r\n    //   payload: data,\r\n    // });\r\n  } catch (error) {\r\n    // dispatch({\r\n    //   type: MYJOBS_FAIL,\r\n    //   error: error,\r\n    // });\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,oBAAT,QAAqC,mBAArC;AAEA,OAAO,MAAMC,QAAQ,GAAIC,MAAD,IAAY,MAAOC,QAAP,IAAoB;EACtD,IAAI;IACF,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAhB;IAEA,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASP,OAAO,CAACQ,KAAM;MAFhC;IADI,CAAf;IAOA,MAAM;MACFC,IAAI,EAAE;QAAEC;MAAF;IADJ,IAEA,MAAMC,KAAK,CAACC,GAAN,CAAU,kCAAV,CAFZ;IAKA,MAAM;MAAEH;IAAF,IAAW,MAAMb,oBAAoB,CAACiB,IAArB,CACpB,WADoB,EAErB;MAAEf;IAAF,CAFqB,EAGrBO,MAHqB,CAAvB;IAMAS,OAAO,CAACC,GAAR,CAAYN,IAAZ,EArBE,CAuBF;IACA;IACA;IACA;EACD,CA3BD,CA2BE,OAAOO,KAAP,EAAc,CACd;IACA;IACA;IACA;EACD;AACF,CAlCM"},"metadata":{},"sourceType":"module"}